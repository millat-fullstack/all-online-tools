<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Color Picker | All Online Tools</title>
  <link rel="stylesheet" href="style.css">
  
  <style>
    body {
  font-family: 'Inter', sans-serif;
  background: #f8f6fb;
  color: #2c2c2c;
  line-height: 1.6;
  margin: 0;
  padding: 0;                 /* no padding here */
  min-height: 100vh;
  box-sizing: border-box;
  position: relative;
  overflow-x: hidden;
}

.page-container {
  padding: 20px;              /* move padding here */
  display: flex;
  flex-direction: column;
  align-items: center;
  max-width: 800px;
  margin: 0 auto;
  margin-top: 30px;
  width: 100%;
  box-sizing: border-box;
  text-align: center;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0
,0.1);
}

    h1 { color: #6b4de6; margin-bottom: 20px; }

    .upload-zone {
      border: 2px dashed #a17edc;
      border-radius: 12px;
      padding: 40px;
      margin-bottom: 20px;
      background: #f8f6fb;
      cursor: pointer;
    }

    input[type="color"] {
      border: 1px solid #e8e0f5;
      width: 120px;
      height: 120px;
      border-radius: 10px;
      margin: 20px auto;
      display: block;
      cursor: pointer;
    }

    canvas {
      margin-top: 20px;
      max-width: 100%;
      border: 1px solid #ddd;
      border-radius: 12px;
      display: none;
      cursor: crosshair;
    }

    /* Magnifier */
    #magnifier {
      position: absolute;
      width: 120px;
      height: 120px;
      border: 2px solid #6b4de6;
      border-radius: 50%;
      overflow: hidden;
      display: none;
      pointer-events: none;
      z-index: 1000;
      background: #fff;
    }

    .codes {
      margin-top: 25px;
      text-align: left;
    }

    .code {
      background: #f8f6fb;
      border: 1px solid #e8e0f5;
      border-radius: 8px;
      padding: 12px 15px;
      margin: 12px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    button {
      padding: 6px 15px;
      background: #6b4de6;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover { background: #593ac7; }
  </style>

</head>
<body>

  <div id="header"></div>

  <div class="page-container">
    <h1>ðŸŽ¨ Color Picker Tool</h1>
    <p>Upload, paste, or drag & drop an image. Hover to preview, click to pick a color.</p>

    <div class="upload-zone" id="dropZone">
      <p>Click or drag & drop image here<br>Or paste screenshot (Ctrl+V)</p>
      <input type="file" id="imageInput" accept="image/*" hidden>
    </div>

    <input type="color" id="colorPicker" value="#a17edc">
    <canvas id="canvas"></canvas>
    <canvas id="magnifier"></canvas>

    <div class="codes">
      <div class="code">
        <span id="hexCode">HEX: #a17edc</span>
        <button onclick="copyText('hexCode')">Copy</button>
      </div>
      <div class="code">
        <span id="rgbCode">RGB: 161, 126, 220</span>
        <button onclick="copyText('rgbCode')">Copy</button>
      </div>
      <div class="code">
        <span id="hslCode">HSL: 270, 50%, 67%</span>
        <button onclick="copyText('hslCode')">Copy</button>
      </div>
    </div>
  </div>
<script>
const picker = document.getElementById("colorPicker");
const hexCode = document.getElementById("hexCode");
const rgbCode = document.getElementById("rgbCode");
const hslCode = document.getElementById("hslCode");

const dropZone = document.getElementById("dropZone");
const imageInput = document.getElementById("imageInput");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const magnifier = document.getElementById("magnifier");
const mtx = magnifier.getContext("2d");

// Upload click
dropZone.addEventListener("click", () => imageInput.click());
imageInput.addEventListener("change", e => {
  if (e.target.files[0]) loadImage(e.target.files[0]);
});

// Drag drop
dropZone.addEventListener("dragover", e => e.preventDefault());
dropZone.addEventListener("drop", e => {
  e.preventDefault();
  if (e.dataTransfer.files[0]) loadImage(e.dataTransfer.files[0]);
});

// Paste
document.addEventListener("paste", e => {
  const items = e.clipboardData.items;
  for (let item of items) {
    if (item.type.startsWith("image/")) {
      loadImage(item.getAsFile());
    }
  }
});

function loadImage(file) {
  const img = new Image();
  img.onload = function() {
    canvas.width = img.width;
    canvas.height = img.height;
    ctx.drawImage(img, 0, 0);
    canvas.style.display = "block";

    canvas.addEventListener("mousemove", showMagnifier);
    canvas.addEventListener("mouseleave", () => magnifier.style.display = "none");
    canvas.addEventListener("click", pickFromImage);
  };
  img.src = URL.createObjectURL(file);
}

// Magnifier preview with crosshair
function showMagnifier(e) {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  const zoom = 8; // stronger zoom
  const size = magnifier.width / zoom;

  mtx.clearRect(0, 0, magnifier.width, magnifier.height);
  mtx.imageSmoothingEnabled = false;
  mtx.drawImage(
    canvas,
    x - size/2, y - size/2, size, size,
    0, 0, magnifier.width, magnifier.height
  );

  // Draw crosshair
  mtx.strokeStyle = "red";
  mtx.lineWidth = 1;

  mtx.beginPath();
  mtx.moveTo(magnifier.width/2, 0);
  mtx.lineTo(magnifier.width/2, magnifier.height);
  mtx.stroke();

  mtx.beginPath();
  mtx.moveTo(0, magnifier.height/2);
  mtx.lineTo(magnifier.width, magnifier.height/2);
  mtx.stroke();

  magnifier.style.display = "block";
  magnifier.style.left = `${e.pageX + 15}px`;
  magnifier.style.top = `${e.pageY + 15}px`;
}

function pickFromImage(e) {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  const pixel = ctx.getImageData(x, y, 1, 1).data;
  const hex = rgbToHex(pixel[0], pixel[1], pixel[2]);
  picker.value = hex;
  updateCodes(hex);
}

picker.addEventListener("input", () => updateCodes(picker.value));

function updateCodes(hex) {
  hexCode.textContent = "HEX: " + hex.toUpperCase();
  let rgb = hexToRgb(hex);
  rgbCode.textContent = `RGB: ${rgb.r}, ${rgb.g}, ${rgb.b}`;
  let hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
  hslCode.textContent = `HSL: ${hsl.h}, ${hsl.s}%, ${hsl.l}%`;
}

function rgbToHex(r,g,b){return"#"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1);}
function hexToRgb(hex){let r=parseInt(hex.slice(1,3),16);let g=parseInt(hex.slice(3,5),16);let b=parseInt(hex.slice(5,7),16);return{r,g,b};}
function rgbToHsl(r,g,b){
  r/=255;g/=255;b/=255;
  let max=Math.max(r,g,b),min=Math.min(r,g,b);
  let h,s,l=(max+min)/2;
  if(max===min){h=s=0;}else{
    let d=max-min;
    s=l>0.5?d/(2-max-min):d/(max+min);
    switch(max){case r:h=(g-b)/d+(g<b?6:0);break;
    case g:h=(b-r)/d+2;break;
    case b:h=(r-g)/d+4;break;}
    h/=6;
  }
  return{h:Math.round(h*360),s:Math.round(s*100),l:Math.round(l*100)};
}

function copyText(id){
  const text=document.getElementById(id).textContent.split(": ")[1];
  navigator.clipboard.writeText(text);
  alert("Copied: "+text);
}
</script>

<section id="suggested-tools">
  <h2>Suggested Tools</h2>
  <div class="suggested-list"></div>
</section>

<script src="../js/suggested.js"></script>


 <div id="footer"></div>

  <script>
    // Load header
    fetch("header.html")
      .then(res => res.text())
      .then(data => document.getElementById("header").innerHTML = data);

          // Load footer
    fetch("footer.html")
      .then(res => res.text())
      .then(data => document.getElementById("footer").innerHTML = data);
      
    </script>
</body>
</html>
